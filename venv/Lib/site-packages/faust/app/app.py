import streamlit as st
import requests
import pandas as pd

st.title(" Приборная панель")


url = st.text_input("Введите URL-адрес API", "http://100.65.143.117/transactions")#свой API  

try:
    
    r = requests.get(url)
    r.raise_for_status()  

    
    data = r.json()
    df = pd.DataFrame(data)

    if df.empty:
        st.warning("Нет данных для отображения.")
    else:
        st.subheader("Таблица транзакций")
        st.dataframe(df)

except requests.exceptions.RequestException as e:
    st.error(f"Ошибка при подключении к API: {e}")
except ValueError as e:
    st.error(f"Ошибка обработки данных: {e}")
except Exception as e:
    st.error(f"Произошла непредвиденная ошибка: {e}")