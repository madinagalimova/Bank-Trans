from logger import logger

ЛИМИТ = 100_000
ЧАСТО = {}

def aml(т):
    п = []

    if т.сумма > ЛИМИТ:
        п.append(" Большая сумма")

    кто = т.кто
    ЧАСТО[кто] = ЧАСТО.get(кто, 0) + 1

    if ЧАСТО[кто] > 5:
        п.append(" Частые переводы")

    if п:
        с = f" AML:\n{т.кто} → {т.кому} | {т.сумма}\n" + "\n".join(п)
        logger.warning(с)